//
//
//

plugins {
  id 'com.android.application'
  id 'kotlin-android'
}

apply from: "../capacitor.build.gradle"

android {
  namespace "com.udry.app"
  compileSdk 35

  defaultConfig {
    applicationId "com.udry.app"
    minSdkVersion 23
    targetSdkVersion 35
    versionCode 1
    versionName "1.0"
    testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    // Keep this for any build-time constants
    buildConfigField "String", "UTEK_APP_ID", "\"684c01f3144cc\""
  }

  buildTypes {
    release {
      minifyEnabled false
      proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
      signingConfig signingConfigs.getByName("release")
    }
  }

  signingConfigs {
    debug {
        // Android Studio manages the debug certificate automatically.
    }
    release {
        storeFile file(System.getenv("UDRY_KEYSTORE_PATH"))
        storePassword System.getenv("UDRY_STORE_PASSWORD")
        keyAlias System.getenv("UDRY_KEY_ALIAS")
        keyPassword System.getenv("UDRY_KEY_PASSWORD")
    }
  }

  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }

  kotlinOptions {
    jvmTarget = '1.8'
  }

  buildFeatures {
    buildConfig true
  }

  dependenciesInfo {
    includeInApk false
    includeInBundle false
  }
}

dependencies {
  implementation(libs.androidx.appcompat)
  implementation(libs.androidx.coordinatorlayout)
  implementation(libs.firebase.bom)
  implementation(libs.firebase.auth)
  implementation(libs.firebase.firestore)
  testImplementation(libs.junit)
  androidTestImplementation(libs.androidx.test.ext.junit)
  androidTestImplementation(libs.espresso.core)
}

apply from: "capacitor.build.gradle"
