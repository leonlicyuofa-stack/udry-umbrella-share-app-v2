(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1146],{4115:function(e,s,r){Promise.resolve().then(r.bind(r,6902))},8790:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(843).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},699:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(843).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},6902:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return k}});var t=r(7437),a=r(2265),n=r(6210),i=r(7907),l=r(5671),c=r(575),d=r(2782),o=r(2647),u=r(9580),m=r(9724),f=r(8790),x=r(843);/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,x.Z)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);var h=r(699);/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,x.Z)("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);var w=r(8792),j=r(3790),y=r(6862),b=r(2670),v=r(1270),N=r(7785),_=r(244);function k(){let{user:e,isReady:s,changeUserPassword:r}=(0,n.useAuth)(),x=(0,i.useRouter)(),{translate:k}=(0,j.useLanguage)(),{toast:Z}=(0,y.pm)(),[C,I]=(0,a.useState)(""),[R,P]=(0,a.useState)(""),[F,z]=(0,a.useState)(!1),[S,J]=(0,a.useState)(!1),q=(0,b.cI)({resolver:(0,v.F)(N.Jg),defaultValues:{currentPassword:"",newPassword:"",confirmNewPassword:""}});(0,a.useEffect)(()=>{s&&!e?x.replace("/auth/signin?redirect=/account/settings"):e&&(I(e.displayName||""),P(e.email||""))},[e,s,x]);let O=async s=>{if(s.preventDefault(),e){z(!0);try{await new Promise(e=>setTimeout(e,1e3)),Z({title:k("profile_settings_update_success")})}catch(e){Z({title:k("profile_settings_update_error"),description:e.message||k("oops_error"),variant:"destructive"})}finally{z(!1)}}};async function W(e){J(!0);try{await r(e),q.reset()}catch(e){console.error("Password change submission error:",e)}finally{J(!1)}}return s?e?(0,t.jsx)("div",{className:"container mx-auto py-8 px-4 max-w-2xl",children:(0,t.jsxs)(l.Zb,{className:"shadow-xl",children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsxs)(l.ll,{className:"text-3xl font-bold text-primary flex items-center",children:[(0,t.jsx)(p,{className:"mr-3 h-8 w-8"}),k("profile_settings_title")]}),(0,t.jsx)(l.SZ,{children:k("profile_settings_description")})]}),(0,t.jsxs)("form",{onSubmit:O,children:[(0,t.jsxs)(l.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o._,{htmlFor:"name",className:"text-lg",children:k("profile_settings_name_label")}),(0,t.jsx)(d.I,{id:"name",type:"text",value:C,onChange:e=>I(e.target.value),className:"text-lg h-12",disabled:F||S})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o._,{htmlFor:"email",className:"text-lg",children:k("profile_settings_email_label")}),(0,t.jsx)(d.I,{id:"email",type:"email",value:R,className:"text-lg h-12 bg-muted/50",disabled:!0,readOnly:!0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email address cannot be changed here. Contact support for assistance."})]})]}),(0,t.jsx)(l.eW,{children:(0,t.jsxs)(c.z,{type:"submit",className:"w-full text-lg py-6 bg-accent hover:bg-accent/90 text-accent-foreground",disabled:F||S,children:[F?(0,t.jsx)(u.Z,{className:"mr-2 h-5 w-5 animate-spin"}):(0,t.jsx)(h.Z,{className:"mr-2 h-5 w-5"}),k("profile_settings_update_button")]})})]}),(0,t.jsxs)(l.Zb,{className:"bg-secondary/30 mt-8",children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsxs)(l.ll,{className:"text-xl flex items-center",children:[(0,t.jsx)(g,{className:"mr-2 h-5 w-5 text-accent"}),k("change_password_title")]}),(0,t.jsx)(l.SZ,{children:k("change_password_description")})]}),(0,t.jsx)(_.l0,{...q,children:(0,t.jsxs)("form",{onSubmit:q.handleSubmit(W),children:[(0,t.jsxs)(l.aY,{className:"space-y-4",children:[(0,t.jsx)(_.Wi,{control:q.control,name:"currentPassword",render:e=>{let{field:s}=e;return(0,t.jsxs)(_.xJ,{children:[(0,t.jsx)(_.lX,{children:k("current_password_label")}),(0,t.jsx)(_.NI,{children:(0,t.jsx)(d.I,{type:"password",placeholder:"••••••••",...s,disabled:S||F})}),(0,t.jsx)(_.zG,{})]})}}),(0,t.jsx)(_.Wi,{control:q.control,name:"newPassword",render:e=>{let{field:s}=e;return(0,t.jsxs)(_.xJ,{children:[(0,t.jsx)(_.lX,{children:k("new_password_label")}),(0,t.jsx)(_.NI,{children:(0,t.jsx)(d.I,{type:"password",placeholder:"••••••••",...s,disabled:S||F})}),(0,t.jsx)(_.zG,{})]})}}),(0,t.jsx)(_.Wi,{control:q.control,name:"confirmNewPassword",render:e=>{let{field:s}=e;return(0,t.jsxs)(_.xJ,{children:[(0,t.jsx)(_.lX,{children:k("confirm_new_password_label")}),(0,t.jsx)(_.NI,{children:(0,t.jsx)(d.I,{type:"password",placeholder:"••••••••",...s,disabled:S||F})}),(0,t.jsx)(_.zG,{})]})}})]}),(0,t.jsx)(l.eW,{children:(0,t.jsxs)(c.z,{type:"submit",className:"w-full",disabled:S||F,children:[S?(0,t.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(g,{className:"mr-2 h-4 w-4"}),k("profile_settings_change_password_button")]})})]})})]})]})}):(0,t.jsx)("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-10rem)] text-center p-4",children:(0,t.jsxs)(l.Zb,{className:"w-full max-w-md shadow-lg",children:[(0,t.jsx)(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"text-destructive flex items-center justify-center",children:[(0,t.jsx)(m.Z,{className:"mr-2 h-6 w-6"})," ",k("access_denied")]})}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("p",{children:k("profile_settings_login_required")}),(0,t.jsx)(c.z,{asChild:!0,className:"mt-4",children:(0,t.jsxs)(w.default,{href:"/auth/signin?redirect=/account/settings",className:"flex items-center",children:[(0,t.jsx)(f.Z,{className:"mr-2 h-4 w-4"})," ",k("login")]})})]})]})}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-10rem)]",children:[(0,t.jsx)(u.Z,{className:"h-12 w-12 animate-spin text-primary"}),(0,t.jsx)("p",{className:"mt-4 text-muted-foreground",children:k("profile_settings_loading")})]})}},575:function(e,s,r){"use strict";r.d(s,{d:function(){return c},z:function(){return d}});var t=r(7437),a=r(2265),n=r(9143),i=r(9769),l=r(2169);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:r,variant:a,size:i,asChild:d=!1,...o}=e,u=d?n.g7:"button";return(0,t.jsx)(u,{className:(0,l.cn)(c({variant:a,size:i,className:r})),ref:s,...o})});d.displayName="Button"},5671:function(e,s,r){"use strict";r.d(s,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},eW:function(){return u},ll:function(){return c}});var t=r(7437),a=r(2265),n=r(2169);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},244:function(e,s,r){"use strict";r.d(s,{NI:function(){return h},Wi:function(){return u},l0:function(){return d},lX:function(){return p},xJ:function(){return x},zG:function(){return g}});var t=r(7437),a=r(2265),n=r(9143),i=r(2670),l=r(2169),c=r(2647);let d=i.RV,o=a.createContext({}),u=e=>{let{...s}=e;return(0,t.jsx)(o.Provider,{value:{name:s.name},children:(0,t.jsx)(i.Qr,{...s})})},m=()=>{let e=a.useContext(o),s=a.useContext(f),{getFieldState:r,formState:t}=(0,i.Gc)(),n=r(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=s;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},f=a.createContext({}),x=a.forwardRef((e,s)=>{let{className:r,...n}=e,i=a.useId();return(0,t.jsx)(f.Provider,{value:{id:i},children:(0,t.jsx)("div",{ref:s,className:(0,l.cn)("space-y-2",r),...n})})});x.displayName="FormItem";let p=a.forwardRef((e,s)=>{let{className:r,...a}=e,{error:n,formItemId:i}=m();return(0,t.jsx)(c._,{ref:s,className:(0,l.cn)(n&&"text-destructive",r),htmlFor:i,...a})});p.displayName="FormLabel";let h=a.forwardRef((e,s)=>{let{...r}=e,{error:a,formItemId:i,formDescriptionId:l,formMessageId:c}=m();return(0,t.jsx)(n.g7,{ref:s,id:i,"aria-describedby":a?"".concat(l," ").concat(c):"".concat(l),"aria-invalid":!!a,...r})});h.displayName="FormControl",a.forwardRef((e,s)=>{let{className:r,...a}=e,{formDescriptionId:n}=m();return(0,t.jsx)("p",{ref:s,id:n,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})}).displayName="FormDescription";let g=a.forwardRef((e,s)=>{var r;let{className:a,children:n,...i}=e,{error:c,formMessageId:d}=m(),o=c?String(null!==(r=null==c?void 0:c.message)&&void 0!==r?r:""):n;return o?(0,t.jsx)("p",{ref:s,id:d,className:(0,l.cn)("text-sm font-medium text-destructive",a),...i,children:o}):null});g.displayName="FormMessage"},2782:function(e,s,r){"use strict";r.d(s,{I:function(){return i}});var t=r(7437),a=r(2265),n=r(2169);let i=a.forwardRef((e,s)=>{let{className:r,type:a,...i}=e;return(0,t.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...i})});i.displayName="Input"},2647:function(e,s,r){"use strict";r.d(s,{_:function(){return d}});var t=r(7437),a=r(2265),n=r(4602),i=r(9769),l=r(2169);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(n.f,{ref:s,className:(0,l.cn)(c(),r),...a})});d.displayName=n.f.displayName},7785:function(e,s,r){"use strict";r.d(s,{JJ:function(){return a},Jg:function(){return i},wL:function(){return n}});var t=r(3391);let a=t.Ry({name:t.Z_().min(2,{message:"Name must be at least 2 characters."}),email:t.Z_().email({message:"Invalid email address."}),password:t.Z_().min(6,{message:"Password must be at least 6 characters."})}),n=t.Ry({email:t.Z_().email({message:"Invalid email address."}),password:t.Z_().min(6,{message:"Password must be at least 6 characters."})}),i=t.Ry({currentPassword:t.Z_().min(1,{message:"Current password is required."}).min(6,{message:"Current password must be at least 6 characters."}),newPassword:t.Z_().min(1,{message:"New password is required."}).min(6,{message:"New password must be at least 6 characters."}),confirmNewPassword:t.Z_().min(1,{message:"Confirm new password is required."}).min(6,{message:"Confirm new password must be at least 6 characters."})}).refine(e=>e.newPassword===e.confirmNewPassword,{message:"New passwords don't match",path:["confirmNewPassword"]})}},function(e){e.O(0,[4358,139,7192,5596,5250,993,7992,6210,2971,8069,1744],function(){return e(e.s=4115)}),_N_E=e.O()}]);