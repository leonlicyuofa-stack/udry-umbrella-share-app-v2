// Top-level build file where you can add configuration options common to all sub-projects/modules.
buildscript {
    ext {
        androidxAppCompatVersion = '1.6.1'
        androidxCoordinatorLayoutVersion = '1.2.0'
        androidxCoreVersion = '1.12.0'
        androidxFragmentVersion = '1.6.2'
        junitVersion = '4.13.2'
        androidxJunitVersion = '1.1.5'
        androidxEspressoCoreVersion = '3.5.1'
        cordovaAndroidVersion = '10.1.1'
        firebaseMessagingVersion = '23.0.5'
        playServicesLocationVersion = '21.0.1'
        androidxBrowserVersion = '1.4.0'
        googleServicesVersion = '4.4.2'
        firebaseCrashlyticsGradleVersion = '2.9.2'
    }

    repositories {
        google()
        mavenCentral()
    }

    dependencies {
        // Corrected the notation for the Android Gradle Plugin.
        // This file requires the direct string notation, not the version catalog alias.
        classpath 'com.android.tools.build:gradle:8.4.1'
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.9.24"
        classpath "com.google.gms:google-services:${googleServicesVersion}"
        classpath "com.google.firebase:firebase-crashlytics-gradle:${firebaseCrashlyticsGradleVersion}"
    }
}

// This should apply to all projects, but Capacitor's scripts often re-declare them.
// It's safe to keep this here as a fallback.
allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

// Apply the main Capacitor build script.
// The path is corrected to look in the parent directory for node_modules.
apply from: "../node_modules/@capacitor/android/capacitor/build.gradle"


task clean(type: Delete) {
    delete rootProject.buildDir
}
